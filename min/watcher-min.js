!function($,e){"use strict";var r={},t=-1;_addWatcher=function(e,c){return r[e]||(r[e]=[]),r[e].push({callback:c,id:++t}),t},_removeWatcher=function(e,t){for(var c,a=r[e],o=0,n=a.length;n>o;o++)if(c=a[o],c.id===t)return a.splice(o,1),!0;return!1},_removeAllWatchers=function(e){delete r[e]},_notifyWatchers=function(t,c){var a=r[t];e.console.log("NOTFYING WATCHER",r[t],t,c),a&&a&&$.each(a,function(){try{var r=this.callback;r.apply(this,[c]||[])}catch(t){e.console.log(t)}})},_pubMap={publish:_notifyWatchers,subscribe:_addWatcher,unsubscribe:_removeWatcher,unsubscribeAll:_removeAllWatchers},$.watcher=function(r,t,c,a){e.console.log("SETTING WATCHER",r,t,c);var o=_pubMap[r];if(o)o(t,c);else{if(!a)throw new Error("There is not a "+r+" that can be called for $.watcher");e.console.log("MAKING CALLBACK",r,c),this.apply(d,args||[]),r(c)}}}(jQuery,this);